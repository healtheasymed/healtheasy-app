"use strict";(globalThis["webpackChunkhealtheasy_frontend"]=globalThis["webpackChunkhealtheasy_frontend"]||[]).push([[921],{1969:(e,t,a)=>{a.r(t),a.d(t,{default:()=>$});var o=a(9835),n=a(6970);const i={key:0},l={key:1},s=(0,o.Uk)(" E-mail "),m=(0,o.Uk)(" Whatsapp "),d=(0,o.Uk)(" Iniciar Atendimento "),c=(0,o.Uk)(" Visualizar / Editar "),p=(0,o.Uk)(" Excluir ");function r(e,t,a,r,u,w){const k=(0,o.up)("q-td"),f=(0,o.up)("q-chip"),h=(0,o.up)("q-tooltip"),g=(0,o.up)("q-btn"),y=(0,o.up)("q-icon"),_=(0,o.up)("DynamicTable"),b=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(b,{padding:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{labelTitle:"Pacientes",routeName:"form-patient",rowsData:e.patients,colsData:e.patientModel.quasarColumns,isLoading:e.isLoading,customSlots:["name","plans","contacts","actions"]},{"body-cell-name":(0,o.w5)((({item:e})=>[(0,o.Wm)(k,{props:e},{default:(0,o.w5)((()=>[e.row.social_name?((0,o.wg)(),(0,o.iD)("span",i,(0,n.zw)(e.row.social_name),1)):((0,o.wg)(),(0,o.iD)("span",l,(0,n.zw)(e.row.name),1))])),_:2},1032,["props"])])),"body-cell-plans":(0,o.w5)((({item:e})=>[(0,o.Wm)(k,{props:e},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.row.plans,((e,t)=>((0,o.wg)(),(0,o.j4)(f,{key:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e),1)])),_:2},1024)))),128))])),_:2},1032,["props"])])),"body-cell-contacts":(0,o.w5)((({item:t})=>[(0,o.Wm)(k,{props:t,class:"q-gutter-x-sm"},{default:(0,o.w5)((()=>[t.row.email?((0,o.wg)(),(0,o.j4)(g,{key:0,icon:"mdi-email",outline:"",size:"sm",onClick:a=>e.sendEmailMessage(t.row.name,t.row.email)},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{anchor:"top middle",self:"center middle"},{default:(0,o.w5)((()=>[s])),_:1})])),_:2},1032,["onClick"])):(0,o.kq)("",!0),t.row.phone?((0,o.wg)(),(0,o.j4)(g,{key:1,color:"positive",icon:"mdi-whatsapp",outline:"",size:"sm",onClick:a=>e.sendWhatsappMessage(t.row.name,t.row.phone)},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{anchor:"top middle",self:"center middle"},{default:(0,o.w5)((()=>[m])),_:1})])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-actions":(0,o.w5)((({item:t})=>[(0,o.Wm)(k,{props:t,class:"q-gutter-x-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{color:"secondary",size:"sm",outline:"",onClick:a=>e.onTreatmentStart(t.key)},{default:(0,o.w5)((()=>[d,(0,o.Wm)(y,{name:"mdi-play-outline"})])),_:2},1032,["onClick"]),(0,o.Wm)(g,{color:"info",icon:"mdi-pencil-outline",outline:"",size:"sm",onClick:a=>e.onEdit(t.key)},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{anchor:"top middle",self:"center middle"},{default:(0,o.w5)((()=>[c])),_:1})])),_:2},1032,["onClick"]),(0,o.Wm)(g,{color:"negative",icon:"mdi-delete-outline",size:"sm",outline:"",onClick:a=>e.onDelete(t.key,t.row.name)},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{anchor:"top middle",self:"center middle",class:"q-mb-sm"},{default:(0,o.w5)((()=>[p])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rowsData","colsData","isLoading"])])),_:1})}var u=a(8339),w=a(3752),k=a(1809),f=a(8148),h=a(5455),g=a(5744);const y=(0,o.aZ)({name:"ListPage",components:{DynamicTable:g.Z},setup(){const e=(0,u.tv)(),t=(0,f.h)(),{patients:a,isLoading:n}=(0,k.Jk)(t),i=()=>t.fetchPatients(),l=(e,a)=>t.deletePatient(e,a),s=t=>{e.push({name:"form-patient",params:{id:t}})},m=t=>{e.push({name:"form-treatment",query:{id:t,role:"patient"}})},d=(e,t)=>{const a=`Contato - Paciente ${e}`,o=`Olá, ${e}. Tudo bem?`,n=encodeURI(`mailto:${t}?subject=${a}&body=${o}`);(0,w.Z)(n)},c=(e,t)=>{const a=`Olá, ${e}. Tudo bem?`,o=encodeURI(`https://api.whatsapp.com/send?phone=55${t.replace(/\D/g,"")}&text=${a}`);(0,w.Z)(o)};return(0,o.bv)((()=>{i()})),{patientModel:h.K,isLoading:n,patients:a,onEdit:s,onTreatmentStart:m,onDelete:l,sendEmailMessage:d,sendWhatsappMessage:c}}});var _=a(1639),b=a(9885),W=a(7220),C=a(7691),q=a(8879),D=a(6858),T=a(2857),Z=a(9984),z=a.n(Z);const U=(0,_.Z)(y,[["render",r]]),$=U;z()(y,"components",{QPage:b.Z,QTd:W.Z,QChip:C.Z,QBtn:q.Z,QTooltip:D.Z,QIcon:T.Z})}}]);