"use strict";(globalThis["webpackChunkhealtheasy_frontend"]=globalThis["webpackChunkhealtheasy_frontend"]||[]).push([[351],{2361:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var n=a(9835),o=a(6970);const i={key:0},l={key:1},s=(0,n.Uk)(" E-mail "),m=(0,n.Uk)(" Whatsapp "),c=(0,n.Uk)(" Iniciar Atendimento "),p=(0,n.Uk)(" Visualizar / Editar "),d=(0,n.Uk)(" Excluir ");function r(e,t,a,r,u,w){const k=(0,n.up)("q-td"),f=(0,n.up)("q-chip"),h=(0,n.up)("q-tooltip"),g=(0,n.up)("q-btn"),y=(0,n.up)("q-icon"),_=(0,n.up)("DynamicTable"),b=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(b,{padding:""},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{labelTitle:"Pacientes",routeName:"form-patient",rowsData:e.patients,colsData:e.patientEnum.quasarColumns,isLoading:e.isLoading,customSlots:["name","plans","contacts","actions"]},{"body-cell-name":(0,n.w5)((({item:e})=>[(0,n.Wm)(k,{props:e},{default:(0,n.w5)((()=>[e.row.social_name?((0,n.wg)(),(0,n.iD)("span",i,(0,o.zw)(e.row.social_name),1)):((0,n.wg)(),(0,n.iD)("span",l,(0,o.zw)(e.row.name),1))])),_:2},1032,["props"])])),"body-cell-plans":(0,n.w5)((({item:e})=>[(0,n.Wm)(k,{props:e},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.row.plans,((e,t)=>((0,n.wg)(),(0,n.j4)(f,{key:t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e),1)])),_:2},1024)))),128))])),_:2},1032,["props"])])),"body-cell-contacts":(0,n.w5)((({item:t})=>[(0,n.Wm)(k,{props:t,class:"q-gutter-x-sm"},{default:(0,n.w5)((()=>[t.row.email?((0,n.wg)(),(0,n.j4)(g,{key:0,icon:"mdi-email",outline:"",size:"sm",onClick:a=>e.sendEmailMessage(t.row.name,t.row.email)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{anchor:"top middle",self:"center middle"},{default:(0,n.w5)((()=>[s])),_:1})])),_:2},1032,["onClick"])):(0,n.kq)("",!0),t.row.phone?((0,n.wg)(),(0,n.j4)(g,{key:1,color:"positive",icon:"mdi-whatsapp",outline:"",size:"sm",onClick:a=>e.sendWhatsappMessage(t.row.name,t.row.phone)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{anchor:"top middle",self:"center middle"},{default:(0,n.w5)((()=>[m])),_:1})])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])),_:2},1032,["props"])])),"body-cell-actions":(0,n.w5)((({item:t})=>[(0,n.Wm)(k,{props:t,class:"q-gutter-x-sm"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{color:"secondary",size:"sm",outline:"",onClick:a=>e.onTreatmentStart(t.key)},{default:(0,n.w5)((()=>[c,(0,n.Wm)(y,{name:"mdi-play-outline"})])),_:2},1032,["onClick"]),(0,n.Wm)(g,{color:"info",icon:"mdi-pencil-outline",outline:"",size:"sm",onClick:a=>e.onEdit(t.key)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{anchor:"top middle",self:"center middle"},{default:(0,n.w5)((()=>[p])),_:1})])),_:2},1032,["onClick"]),(0,n.Wm)(g,{color:"negative",icon:"mdi-delete-outline",size:"sm",outline:"",onClick:a=>e.onDelete(t.key,t.row.name)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{anchor:"top middle",self:"center middle",class:"q-mb-sm"},{default:(0,n.w5)((()=>[d])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rowsData","colsData","isLoading"])])),_:1})}var u=a(8339),w=a(3752),k=a(1809),f=a(8148),h=a(2248),g=a(5744);const y=(0,n.aZ)({name:"ListPage",components:{DynamicTable:g.Z},setup(){const e=(0,u.tv)(),t=(0,f.h)(),{patients:a,isLoading:o}=(0,k.Jk)(t),i=()=>t.fetchPatients(),l=(e,a)=>t.deletePatient(e,a),s=t=>{e.push({name:"form-patient",params:{id:t}})},m=t=>{e.push({name:"form-treatment",query:{id:t,role:"patient"}})},c=(e,t)=>{const a=`Contato - Paciente ${e}`,n=`Olá, ${e}. Tudo bem?`,o=encodeURI(`mailto:${t}?subject=${a}&body=${n}`);(0,w.Z)(o)},p=(e,t)=>{const a=`Olá, ${e}. Tudo bem?`,n=encodeURI(`https://api.whatsapp.com/send?phone=55${t.replace(/\D/g,"")}&text=${a}`);(0,w.Z)(n)};return(0,n.bv)((()=>{i()})),{patientEnum:h.z,isLoading:o,patients:a,onEdit:s,onTreatmentStart:m,onDelete:l,sendEmailMessage:c,sendWhatsappMessage:p}}});var _=a(1639),b=a(9885),W=a(7220),C=a(7691),q=a(8879),D=a(6858),T=a(2857),Z=a(9984),z=a.n(Z);const E=(0,_.Z)(y,[["render",r]]),U=E;z()(y,"components",{QPage:b.Z,QTd:W.Z,QChip:C.Z,QBtn:q.Z,QTooltip:D.Z,QIcon:T.Z})}}]);