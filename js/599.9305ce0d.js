"use strict";(globalThis["webpackChunkhealtheasy_frontend"]=globalThis["webpackChunkhealtheasy_frontend"]||[]).push([[599],{2599:(e,l,a)=>{a.r(l),a.d(l,{default:()=>M});var t=a(9835);const o={class:"flex justify-between"},r=(0,t._)("h6",{class:"q-ma-none"},"Dados Cadastrais",-1),d={class:"q-ma-none q-mb-md"},s=(0,t._)("b",null,"Status da Integração",-1),m={class:"flex items-center"},u={class:"row q-mb-md q-col-gutter-sm"},i={class:"col-12 col-md-6"},n={class:"col-12 col-md-6"},c={class:"row q-mb-md q-col-gutter-sm"},v={class:"col-12 col-md-6"},p={class:"col-12 col-md-6"},f={class:"row q-mb-md q-col-gutter-sm"},b={class:"col-12 col-md-6"},g={class:"col-12 col-md-6"};function h(e,l,h,_,y,q){const V=(0,t.up)("q-img"),w=(0,t.up)("q-btn"),P=(0,t.up)("q-separator"),Z=(0,t.up)("q-toggle"),k=(0,t.up)("q-input"),C=(0,t.up)("InputDate"),W=(0,t.up)("q-select"),U=(0,t.up)("q-form"),x=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(x,{padding:""},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{src:a(9936),class:"q-mb-md","spinner-color":"primary","spinner-size":"82px",width:"200px"},null,8,["src"]),(0,t.Wm)(U,{onSubmit:e.onSubmit,onReset:e.onReset},{default:(0,t.w5)((()=>[(0,t._)("div",o,[r,(0,t.Wm)(w,{color:"primary",icon:"add",label:"Atendimento",onClick:l[0]||(l[0]=l=>e.$router.push({name:"form-treatment"}))})]),(0,t.Wm)(P,{spaced:""}),(0,t._)("div",d,[s,(0,t._)("div",m,[(0,t.Wm)(Z,{modelValue:e.form.status_memed,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.status_memed=l),"checked-icon":"mdi-check","unchecked-icon":"mdi-cancel","false-value":"inactive","true-value":"active","keep-color":"",label:"active"===e.form.status_memed?"Ativo":"Inativo",color:"active"===e.form.status_memed?"positive":"negative"},null,8,["modelValue","label","color"])])]),(0,t._)("div",u,[(0,t._)("div",i,[(0,t.Wm)(k,{modelValue:e.form.crm,"onUpdate:modelValue":l[2]||(l[2]=l=>e.form.crm=l),type:"text",label:"CRM",outlined:"","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor, informe o CRM."],disable:!!e.form.crm},null,8,["modelValue","rules","disable"])]),(0,t._)("div",n,[(0,t.Wm)(k,{modelValue:e.form.state,"onUpdate:modelValue":l[3]||(l[3]=l=>e.form.state=l),type:"text",label:"Estado de Atuação",outlined:"","lazy-rules":"",rules:[e=>e&&e.length>0||"Por favor, informe o Estado de Atuação."],disable:!!e.form.state},null,8,["modelValue","rules","disable"])])]),(0,t._)("div",c,[(0,t._)("div",v,[(0,t.Wm)(k,{modelValue:e.form.cpf,"onUpdate:modelValue":l[4]||(l[4]=l=>e.form.cpf=l),type:"text",mask:"###.###.###-##",label:"CPF",outlined:"","lazy-rules":"",rules:[e=>e&&e.length||"Por favor, informe o CPF.",e=>e&&e.length>=11||"Por favor, informe um CPF válido."]},null,8,["modelValue","rules"])]),(0,t._)("div",p,[(0,t.Wm)(C,{modelValue:e.form.birth_date,"onUpdate:modelValue":l[5]||(l[5]=l=>e.form.birth_date=l),label:"Data de Nascimento",rules:[e=>e&&10===e.length||"Por favor, informe a data de nascimento.",l=>l&&l!==e.getTodayLocaleDate()||"Por favor, a data de nascimento deve ser diferente da data atual."],disable:!!e.form.birth_date},null,8,["modelValue","rules","disable"])])]),(0,t._)("div",f,[(0,t._)("div",b,[(0,t.Wm)(k,{modelValue:e.form.phone,"onUpdate:modelValue":l[6]||(l[6]=l=>e.form.phone=l),type:"text",label:"Celular",class:"q-mb-md",outlined:"","lazy-rules":"",mask:"(##) ##### - ####",hint:"Formato: (12) 91234 - 5678",rules:[e=>e&&e.length>0||"Por favor, informe o celular.",e=>e&&e.length>16||"Por favor, informe um número de celular válido."]},null,8,["modelValue","rules"])]),(0,t._)("div",g,[(0,t.Wm)(W,{modelValue:e.specialty,"onUpdate:modelValue":l[7]||(l[7]=l=>e.specialty=l),label:"Especialidade Principal",options:e.form.specialties,outlined:"","stack-label":"","lazy-rules":"","option-label":"value","option-value":"value",multiple:"","emit-value":"",rules:[e=>e&&e.length>0||"Por favor, informe uma Especialidade."]},null,8,["modelValue","options","rules"])])]),(0,t._)("div",null,[(0,t.Wm)(w,{label:"Cancelar",type:"reset",color:"negative",class:"q-mr-md",outline:""}),(0,t.Wm)(w,{label:"Salvar",type:"submit",color:"positive"})])])),_:1},8,["onSubmit","onReset"])])),_:1})}a(6204),a(7924),a(702);var _=a(499),y=a(1809),q=a(9302),V=a(8957),w=a(7572),P=a(5428),Z=a(6144),k=a(3788),C=a(5472),W=a(7338);const U=(0,t.aZ)({name:"MemedPage",components:{InputDate:W.Z},setup(){const e=(0,q.Z)(),l=(0,Z.L)(),{user:a}=(0,y.Jk)(l),{notifyError:o}=(0,V.Z)(),{update:r}=(0,w.Z)(),{memedDoctorGet:d,memedDoctorRegister:s,memedDoctorUpdate:m}=(0,P.Z)(),u=(0,_.iH)({status_memed:"inactive",crm:"",cpf:"",city:"",state:"",birthDate:(0,k.kq)()}),i=(0,_.iH)(null),n=(0,t.Fl)((()=>l.getUserName)),c=(0,t.Fl)((()=>l.getUserSurName)),v=(0,t.Fl)((()=>l.getUserStateAbbr)),p=async()=>{e.loading.show();try{let e=null;e=u.value.memed.external_id?await m(u.value):await s(u.value),console.log(e)}catch(l){o(l.message)}finally{e.loading.hide()}},f=async()=>{e.loading.show();try{const e=await d(a.value.doctor_id);if(!e)return void(u.value.memed.external_id=null);u.value.cpf=e.cpf,i.value=C.c.find((l=>l.id===Number(e.especialidade.data.id)))}catch(l){o(l.message)}finally{e.loading.hide()}},b=async()=>{e.loading.show();try{await p(),await r("doctors",{id:u.value.doctor_id,status_memed:u.value.status_memed})}catch(l){o(l.message)}finally{e.loading.hide()}};return(0,t.bv)((()=>{a.value&&(u.value=structuredClone(a.value),u.value.birth_date=(0,k.gd)(a.value.birth_date),f())})),(0,t.YP)(a,(e=>{e&&(u.value=structuredClone(a.value),u.value.birth_date=(0,k.gd)(a.value.birth_date),f())})),(0,t.YP)([n,c,v,i],(([e,l,a,t])=>{u.value._name=e,u.value._surname=l,u.value._state=a,u.value._specialty=C.c.find((e=>e.value===t))})),{form:u,specialty:i,onSubmit:b}}});var x=a(1639),S=a(9885),D=a(335),F=a(8326),Q=a(8879),z=a(926),I=a(3175),R=a(3119),A=a(2259),E=a(9984),N=a.n(E);const T=(0,x.Z)(U,[["render",h]]),M=T;N()(U,"components",{QPage:S.Z,QImg:D.Z,QForm:F.Z,QBtn:Q.Z,QSeparator:z.Z,QToggle:I.Z,QInput:R.Z,QSelect:A.Z})}}]);